<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>跨域测试</title>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#btn").click(function () {
                $.ajax({
                    url: "http://www.zgfw-315.com/fwqueryjson.ashx?fwcode=2156557411504082&u=2156",
                    type: "GET",
                    dataType: "jsonp", //指定服务器返回的数据类型
                    jsonp: "callback",
                    success: function (data) {
                        var result = JSON.stringify(data); //json对象转成字符串
                            $("#text").val(result);
                    }
                });
            });
        });
    </script>
    <script>
        $(document).ready(function(){
            $("button").click(function(){
                var form = document.forms['form'];
                var name = form.elements.exampleInputEmail1.value;
                var email = form.elements.exampleInputPassword1.value;
                var text = "http://www.zgfw-315.com/fwqueryjson.ashx?fwcode="+name+"&u="+email;
                alert("你防偽碼是 " + name + "\n產品代碼是 " + email + "\ntext是 " + text);
                $.ajax({
                        url: "http://www.zgfw-315.com/fwqueryjson.ashx?fwcode="+name+"&u="+email,
                        type: "GET",
                        dataType: "jsonp", //指定服务器返回的数据类型
                        jsonp: "callback",
                        success: function (data) {
                            // var result = JSON.stringify(data); //json对象转成字符串
                            // $("#checkfwcode").val(result);
                            var x;
                            x = data.CodeState;
                            y = data.QueryResult;
                            document.getElementById("text").innerHTML = "CodeState 是 " + x + "\nQueryResult 是 " + y;
                        },
                        error:function (textStatus) { //请求失败后调用的函数
                            console.log(JSON.stringify(textStatus));
                        }
                });
            });
        });
    </script>

</head>
    <body>
        <input id="btn" type="button" value="跨域获取数据" />
        <textarea id="text" style="width: 1000px; height: 100px;"></textarea>

        <form name='form' id='form'>
            <div class="form-group">
                <label for="exampleInputEmail1">防偽碼</label> 
                <input  class="form-control" name="exampleInputEmail1" id="exampleInputEmail1" type="text" /> 
            </div>
        
            <div class="form-group">
                <label for="exampleInputPassword1">產品代碼</label> 
                <input class="form-control" name="exampleInputPassword1" id="exampleInputPassword1" type="text" />
            </div>
        </form>
        <button class="btn btn-primary">Submit</button>
    </body>
</html>